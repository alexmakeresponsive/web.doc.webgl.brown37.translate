# Introduction

## Welcome to this “Learn WebGL” Web Site

Этот веб-сайт поможет вам узнать, как отображать трехмерную компьютерную графику в реальном времени и управлять ею внутри веб-страницы. 3D компьютерная графика может создавать визуализации всего, что вы можете себе представить. Но это непросто и непросто реализовать. Так что не торопитесь и методично изучите уроки на этом веб-сайте.

## Learning philosophy

Мастерское обучение - ключ к этому набору руководств. Мастерское обучение с большим успехом использовалось Академией Кана, и это одна из основных причин, по которой был разработан этот набор учебных пособий. Сегодняшние учащиеся укоренились в системе, которая заставляет их немного узнать о теме, а затем двигаться дальше - независимо от того, сколько они еще не понимают. 

> Будучи студентом, вам нужно переосмыслить, что значит учиться, и избавиться от старых привычек игнорировать то, чего вы не понимаете.

Этот сайт разработан по принципу изучения сложных тем «сверху вниз». Важно, чтобы вы понимали «общую картину», прежде чем углубляться в детали. По мере того, как вы изучите детали, у вас будет структура, которая позволит вам понять, как детали решают небольшую часть более крупной проблемы.

Эти учебные пособия предназначены для самостоятельного обучения и самостоятельного обучения. Вам предлагается оставаться в теме, пока вы не поймете ее более чем на поверхностном уровне. Если вы «освоите» каждую тему, прежде чем переходить к следующей, вы будете готовы к более подробным темам, которые следуют ниже. Пожалуйста, следите за порядком уроков, как они организованы на странице содержания. Это обеспечит вам прочную основу для понимания новых тем.

## What is WebGL?

WebGL - это интерфейс прикладного программиста (API) JavaScript, который позволяет программисту использовать графический процессор (GPU) вычислительного устройства в окне веб-браузера для визуализации трехмерной компьютерной графики в реальном времени. Это единственная кроссплатформенная среда разработки для создания трехмерной компьютерной графики, которая существует сегодня в индустрии программного обеспечения. Изучение WebGL - лучший способ понять основы компьютерной графики и получить «набор инструментов», который можно использовать для создания собственной компьютерной графики.

## What is a WebGL Program?

Типичная веб-страница, содержащая трехмерную компьютерную графику, созданную программой WebGL, состоит из следующих основных частей:

* Описание веб-страницы в формате HTML (язык гипертекстовой разметки).
* CSS (каскадная таблица стилей), которая описывает форматирование каждого элемента описания HTML.
* Элемент холста HTML на веб-странице, который обеспечивает прямоугольную область, в которой может отображаться трехмерная компьютерная графика.
* Графические данные, определяющие трехмерные объекты для визуализации.
* Программы JavaScript, которые загружают ваши графические данные, настраивают ваши графические данные, отображают ваши графические данные и код, который реагирует на пользовательские события.
* Программы OpenGL Shader, которые выполняют важные части графического рендеринга.

Все эти базовые части изначально находятся на веб-сервере. Когда пользователь (клиент) запрашивает веб-страницу, содержащую трехмерную графику, данные, описанные выше, должны быть переданы на компьютер клиента, сохранены в нужных местах и затем обработаны соответствующими процессорами. Современные вычислительные устройства имеют несколько процессоров разных типов.

* ЦП - центральные процессоры - это «мозг» устройства. ЦП выполняет общую обработку и запускает операционную систему (ОС), которая контролирует общее функционирование устройства.
* Графические процессоры - блоки обработки графики - специально разработаны для рендеринга трехмерной графики.

Современные вычислительные устройства также имеют много типов памяти, предназначенных для различных целей.

* RAM - оперативная память - хранит программные данные и программные инструкции.
* Графическая память - отдельная система памяти для обработки видео и графики. В GPU есть выделенная память, специально разработанная для 3D-графики.

Упрощенная схема этих идей показана ниже. Основные аппаратные части в вычислительном устройстве

![](../../asset/hardware_overview.png)

Когда клиент запрашивает веб-страницу с веб-сервера, происходит следующая последовательность событий:

* Сервер отправляет HTML-описание веб-страницы клиенту, а клиент сохраняет веб-страницу в ОЗУ.
* Веб-браузер клиента (например, Chrome, Safari, Internet Explorer) считывает описание HTML-страницы и запрашивает любые другие документы, на которые есть ссылки в HTML-коде, включая изображения, код JavaScript, CSS (каскадные таблицы стилей), файлы данных и т. Д. Все эти файлы хранятся в оперативной памяти клиента.
* Если со страницей связан код JavaScript, он выполняется. Для страницы, содержащей трехмерную графику, код JavaScript будет выполнять следующие задачи:
	* Он может запросить загрузку с сервера других файлов данных (например, данных, описывающих визуализируемые трехмерные графические объекты).
	* Он получит и инициализирует графический контекст WebGL, связанный с элементом холста HTML, в котором будет отображаться графика.
	* Он настроит и скопирует данные модели в память графического процессора. (Технически данные копируются в буферы вершинных объектов графического процессора).
	* Он установит «обработчики событий», которые свяжут HTML-события с кодом JavaScript, который будет выполняться при возникновении события.
* Наконец, веб-страница отображается в окне браузера, и веб-страница ожидает событий пользователя. События таймера могут быть настроены для автоматического создания событий по регулярному расписанию, что позволяет создавать анимацию трехмерной графики.

Когда обработчик событий JavaScript инициирует рендеринг графики в элемент холста HTML, он сообщает графическому процессору, какой буфер (ы) объекта содержит данные, которые он хочет отобразить, а затем выдает команду WebGL «рисовать». Обратите внимание, что данные для визуализации обычно уже находятся в памяти графического процессора. В типичной графической программе данные модели копируются в память графического процессора только один раз. Это экономит время и делает рендеринг графики эффективным и быстрым. Когда мы используем термин «графика в реальном времени», мы имеем в виду, что рендеринг может выполняться менее чем за 1/30 секунды, и пользователь может просматривать плавные графические анимации. Такой быстрый рендеринг возможен только в том случае, если передача данных между памятью GPU и RAM сведена к минимуму.

Идея о том, что дорогостоящие операции выполняются только один раз, является основным принципом всей компьютерной графики. На протяжении всего этого руководства вы постоянно будете видеть фразы «шаг предварительной обработки» и «шаг рендеринга». Цель состоит в том, чтобы выполнить «этап предварительной обработки» только один раз. Поэтому код JavaScript, выполняющий визуализацию графики, обычно делится на две отдельные части: 1) часть настройки (или предварительной обработки), которая выполняется один раз, и 2) часть визуализации, которая выполняется каждый раз при отрисовке объекта. В каждом учебном уроке будет проводиться четкое различие между кодом предварительной обработки и кодом отрисовки.

Чтобы еще раз подчеркнуть «общую картину», приведенная ниже диаграмма суммирует вышеизложенное обсуждение. Обратите внимание, что код JavaScript выполняется на центральном процессоре (ах), а рендеринг графики выполняется графическим процессором (ами). Код JavaScript - это «мастер». Он «запускает шоу» и сообщает графическим процессорам, когда и что визуализировать.

![](../../asset/data_location.png)

## Tutorial Examples

Был разработан интерфейс веб-страницы, который позволяет просматривать код WebGL, данные и результаты рендеринга WebGL, и пример показан ниже. Интерфейс поможет вам поэкспериментировать с программой WebGL в интерактивном режиме. Помните, что личные эксперименты имеют решающее значение для вашего обучения! Сделайте паузу, когда перейдете к интерактивным примерам, и поэкспериментируйте!

Интерфейс включает команды в верхней части интерактивного примера, которые позволяют использовать следующие параметры:

* **Перезапустить** - если вы редактируете код, отображаемый в левой части окна, вы можете нажать кнопку «перезапустить», чтобы перезагрузить программу WebGL с использованием вашего измененного кода и / или данных. Если вы вводите ошибки в коде или данных, программа WebGL не будет работать должным образом, но вы должны увидеть сообщения об ошибках, отображаемые на панели окна вывода под холстом. В некоторых случаях ошибки будут видны только в окне консоли JavaScript. В некоторых панелях редактора редактирование отключено, чтобы предотвратить непреднамеренные изменения. Все три панели редактирования ниже отключены, потому что вы еще не готовы экспериментировать с кодом.
* **Показать флажки** - позволяет скрыть любую из трех панелей отображения в интерактивном примере. Обычно в окнах редактирования представлены только один или два файла. Это поможет вам сосредоточиться на одной части программы WebGL одновременно.
* **Загрузить все** - загружает все файлы, составляющие эту программу WebGL, в папку загрузки по умолчанию на вашем компьютере. Количество файлов может быть большим, в зависимости от сложности примера. Чтобы использовать код в автономной программе, файлы должны быть соответствующим образом организованы в подпапках. (Подробнее об этом позже.) Рекомендуется очистить папку загрузок перед загрузкой программы WebGL, чтобы не пропустить важные файлы.

Интерактивный пример ниже показан здесь, чтобы вы могли ознакомиться с интерфейсом. В этом примере все окна редактирования доступны только для чтения. Просто изучите данные HTML, JavaScript и модели, чтобы увидеть, как они выглядят. Вы можете взаимодействовать с графикой в этом конкретном примере, щелкая и перетаскивая мышь в окне холста. Вы также можете включить или отключить автоматическую анимацию, установив флажок под окном холста. Если вы хотите видеть результаты программы WebGL как отдельную независимую страницу, используйте гиперссылку внизу интерактивного примера. В зависимости от настроек браузера по умолчанию, программа WebGL откроется в новом окне или в новой вкладке.

## Summary

Начиная изучать WebGL, не забудьте вернуться к этим урокам «Общая картина», чтобы расставить детали по своим местам. Следующие уроки охватывают эти «общие» темы:

* Что такое 3D компьютерная графика и как она работает?
* Откуда появился WebGL?
* Как можно управлять сложностью программ WebGL?